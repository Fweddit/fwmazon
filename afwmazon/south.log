execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invtype` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `description` longtext NOT NULL, `group_id` integer NULL, `market_group_id` integer NULL, `mass` double precision NULL, `volume` double precision NULL, `capacity` double precision NULL, `portion_size` integer NULL, `base_price` double precision NULL, `is_published` bool NOT NULL, `chance_of_duplicating` double precision NULL)" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invtype` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `description` longtext NOT NULL, `group_id` integer NULL, `market_group_id` integer NULL, `mass` double precision NULL, `volume` double precision NULL, `capacity` double precision NULL, `portion_size` integer NULL, `base_price` double precision NULL, `is_published` bool NOT NULL, `chance_of_duplicating` double precision NULL)" with params "[]"
execute "CREATE TABLE `eve_invmarketgroup` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `description` varchar(300012) NULL, `parent_id` integer NULL, `has_items` bool NOT NULL, `icon_id` integer NULL)" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invmarketgroup` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `description` varchar(300012) NULL, `parent_id` integer NULL, `has_items` bool NOT NULL, `icon_id` integer NULL)" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invmarketgroup` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `description` varchar(300012) NULL, `parent_id` integer NULL, `has_items` bool NOT NULL, `icon_id` integer NULL)" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invmarketgroup` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `description` longtext NULL, `parent_id` integer NULL, `has_items` bool NOT NULL, `icon_id` integer NULL)" with params "[]"
execute "ALTER TABLE `eve_invmarketgroup` ADD CONSTRAINT `parent_id_refs_id_c90bc8b6` FOREIGN KEY (`parent_id`) REFERENCES `eve_invmarketgroup` (`id`);" with params "[]"
execute "CREATE INDEX `eve_invmarketgroup_410d0aac` ON `eve_invmarketgroup` (`parent_id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invcategory` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `description` varchar(255) NOT NULL, `is_published` bool NOT NULL, `icon_id` integer NULL)" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invgroup` (`id` integer NOT NULL PRIMARY KEY, `category_id` integer NULL, `name` varchar(150) NOT NULL, `description` longtext NOT NULL, `icon_id` integer NULL, `use_base_price` bool NOT NULL, `allow_manufacture` bool NOT NULL, `allow_recycle` bool NOT NULL, `allow_anchoring` bool NOT NULL, `is_anchored` bool NOT NULL, `is_fittable_non_singleton` bool NOT NULL, `is_published` bool NOT NULL)" with params "[]"
execute "ALTER TABLE `eve_invgroup` ADD CONSTRAINT `category_id_refs_id_f9f92f79` FOREIGN KEY (`category_id`) REFERENCES `eve_invcategory` (`id`);" with params "[]"
execute "CREATE INDEX `eve_invgroup_6f33f001` ON `eve_invgroup` (`category_id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_invtype` (`id` integer NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `description` longtext NOT NULL, `group_id` integer NULL, `market_group_id` integer NULL, `mass` double precision NULL, `volume` double precision NULL, `capacity` double precision NULL, `portion_size` integer NULL, `base_price` double precision NULL, `is_published` bool NOT NULL, `chance_of_duplicating` double precision NULL)" with params "[]"
execute "ALTER TABLE `eve_invtype` ADD CONSTRAINT `group_id_refs_id_83806e0c` FOREIGN KEY (`group_id`) REFERENCES `eve_invgroup` (`id`);" with params "[]"
execute "CREATE INDEX `eve_invtype_5f412f9a` ON `eve_invtype` (`group_id`);" with params "[]"
execute "ALTER TABLE `eve_invtype` ADD CONSTRAINT `market_group_id_refs_id_46529e96` FOREIGN KEY (`market_group_id`) REFERENCES `eve_invmarketgroup` (`id`);" with params "[]"
execute "CREATE INDEX `eve_invtype_d812e673` ON `eve_invtype` (`market_group_id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `shop_doctrinefit` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `description` longtext NOT NULL, `fit` longtext NOT NULL, `price` numeric(15, 2) NOT NULL, `status` integer NOT NULL, `bought` integer NOT NULL, `creator_id` integer NOT NULL UNIQUE, `created_at` date NOT NULL, `updated_at` date NOT NULL)" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ADD CONSTRAINT `creator_id_refs_id_12bf1442` FOREIGN KEY (`creator_id`) REFERENCES `auth_user` (`id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ADD COLUMN `ship_id` integer NOT NULL DEFAULT 0;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` MODIFY `ship_id` integer NOT NULL;;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ALTER COLUMN `ship_id` DROP DEFAULT;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ADD CONSTRAINT `ship_id_refs_id_98a23383` FOREIGN KEY (`ship_id`) REFERENCES `eve_invtype` (`id`);" with params "[]"
execute "CREATE INDEX `shop_doctrinefit_02fd923e` ON `shop_doctrinefit` (`ship_id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `shop_doctrinefit` DROP INDEX `creator_id`" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `shop_doctrinefit` DROP FOREIGN KEY `creator_id_refs_id_12bf1442`" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` MODIFY `creator_id` integer NOT NULL;;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ALTER COLUMN `creator_id` DROP DEFAULT;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ADD CONSTRAINT `creator_id_refs_id_12bf1442` FOREIGN KEY (`creator_id`) REFERENCES `auth_user` (`id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `shop_doctrinefit` ;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` MODIFY `created_at` datetime NOT NULL;;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ALTER COLUMN `created_at` DROP DEFAULT;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `shop_doctrinefit` ;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` MODIFY `updated_at` datetime NOT NULL;;" with params "[]"
execute "ALTER TABLE `shop_doctrinefit` ALTER COLUMN `updated_at` DROP DEFAULT;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `celery_taskmeta` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `result` longtext NULL, `date_done` datetime NOT NULL, `traceback` longtext NULL)" with params "[]"
execute "CREATE TABLE `celery_tasksetmeta` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `taskset_id` varchar(255) NOT NULL UNIQUE, `result` longtext NOT NULL, `date_done` datetime NOT NULL)" with params "[]"
execute "CREATE TABLE `djcelery_intervalschedule` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `every` integer NOT NULL, `period` varchar(24) NOT NULL)" with params "[]"
execute "CREATE TABLE `djcelery_crontabschedule` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `minute` varchar(64) NOT NULL, `hour` varchar(64) NOT NULL, `day_of_week` varchar(64) NOT NULL)" with params "[]"
execute "CREATE TABLE `djcelery_periodictasks` (`ident` smallint NOT NULL PRIMARY KEY, `last_update` datetime NOT NULL)" with params "[]"
execute "CREATE TABLE `djcelery_periodictask` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(200) NOT NULL UNIQUE, `task` varchar(200) NOT NULL, `interval_id` integer NULL, `crontab_id` integer NULL, `args` longtext NOT NULL, `kwargs` longtext NOT NULL, `queue` varchar(200) NULL, `exchange` varchar(200) NULL, `routing_key` varchar(200) NULL, `expires` datetime NULL, `enabled` bool NOT NULL, `last_run_at` datetime NULL, `total_run_count` integer UNSIGNED NOT NULL, `date_changed` datetime NOT NULL)" with params "[]"
execute "CREATE TABLE `djcelery_workerstate` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `hostname` varchar(255) NOT NULL UNIQUE, `last_heartbeat` datetime NULL)" with params "[]"
execute "CREATE TABLE `djcelery_taskstate` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `state` varchar(64) NOT NULL, `task_id` varchar(36) NOT NULL UNIQUE, `name` varchar(200) NULL, `tstamp` datetime NOT NULL, `args` longtext NULL, `kwargs` longtext NULL, `eta` datetime NULL, `expires` datetime NULL, `result` longtext NULL, `traceback` longtext NULL, `runtime` double precision NULL, `retries` integer NOT NULL, `worker_id` integer NULL, `hidden` bool NOT NULL)" with params "[]"
execute "ALTER TABLE `djcelery_periodictask` ADD CONSTRAINT `interval_id_refs_id_1829f358` FOREIGN KEY (`interval_id`) REFERENCES `djcelery_intervalschedule` (`id`);" with params "[]"
execute "CREATE INDEX `djcelery_periodictask_8905f60d` ON `djcelery_periodictask` (`interval_id`);" with params "[]"
execute "ALTER TABLE `djcelery_periodictask` ADD CONSTRAINT `crontab_id_refs_id_286da0d1` FOREIGN KEY (`crontab_id`) REFERENCES `djcelery_crontabschedule` (`id`);" with params "[]"
execute "CREATE INDEX `djcelery_periodictask_7280124f` ON `djcelery_periodictask` (`crontab_id`);" with params "[]"
execute "CREATE INDEX `djcelery_workerstate_11e400ef` ON `djcelery_workerstate` (`last_heartbeat`);" with params "[]"
execute "CREATE INDEX `djcelery_taskstate_5654bf12` ON `djcelery_taskstate` (`state`);" with params "[]"
execute "CREATE INDEX `djcelery_taskstate_4da47e07` ON `djcelery_taskstate` (`name`);" with params "[]"
execute "CREATE INDEX `djcelery_taskstate_abaacd02` ON `djcelery_taskstate` (`tstamp`);" with params "[]"
execute "ALTER TABLE `djcelery_taskstate` ADD CONSTRAINT `worker_id_refs_id_6fd8ce95` FOREIGN KEY (`worker_id`) REFERENCES `djcelery_workerstate` (`id`);" with params "[]"
execute "CREATE INDEX `djcelery_taskstate_cac6a03d` ON `djcelery_taskstate` (`worker_id`);" with params "[]"
execute "CREATE INDEX `djcelery_taskstate_2ff6b945` ON `djcelery_taskstate` (`hidden`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "ALTER TABLE `djcelery_periodictask` ADD COLUMN `description` longtext NOT NULL;" with params "[]"
execute "ALTER TABLE `djcelery_periodictask` ;" with params "[]"
execute "ALTER TABLE `djcelery_periodictask` MODIFY `description` longtext NOT NULL;;" with params "[]"
execute "ALTER TABLE `celery_taskmeta` ADD COLUMN `hidden` bool NOT NULL DEFAULT False;" with params "[]"
execute "ALTER TABLE `celery_taskmeta` ;" with params "[]"
execute "ALTER TABLE `celery_taskmeta` MODIFY `hidden` bool NOT NULL;;" with params "[]"
execute "ALTER TABLE `celery_taskmeta` ALTER COLUMN `hidden` DROP DEFAULT;" with params "[]"
execute "ALTER TABLE `celery_tasksetmeta` ADD COLUMN `hidden` bool NOT NULL DEFAULT False;" with params "[]"
execute "ALTER TABLE `celery_tasksetmeta` ;" with params "[]"
execute "ALTER TABLE `celery_tasksetmeta` MODIFY `hidden` bool NOT NULL;;" with params "[]"
execute "ALTER TABLE `celery_tasksetmeta` ALTER COLUMN `hidden` DROP DEFAULT;" with params "[]"
execute "CREATE INDEX `celery_taskmeta_2ff6b945` ON `celery_taskmeta` (`hidden`);" with params "[]"
execute "CREATE INDEX `celery_tasksetmeta_2ff6b945` ON `celery_tasksetmeta` (`hidden`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ADD COLUMN `day_of_month` varchar(64) NOT NULL DEFAULT '*';" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` MODIFY `day_of_month` varchar(64) NOT NULL;;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ALTER COLUMN `day_of_month` DROP DEFAULT;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ADD COLUMN `month_of_year` varchar(64) NOT NULL DEFAULT '*';" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` MODIFY `month_of_year` varchar(64) NOT NULL;;" with params "[]"
execute "ALTER TABLE `djcelery_crontabschedule` ALTER COLUMN `month_of_year` DROP DEFAULT;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "ALTER TABLE `celery_taskmeta` ADD COLUMN `meta` longtext NULL;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "ALTER TABLE `eve_invtype` ADD COLUMN `price_updated` datetime NOT NULL DEFAULT '2013-06-17 23:00:00';" with params "[]"
execute "ALTER TABLE `eve_invtype` ;" with params "[]"
execute "ALTER TABLE `eve_invtype` MODIFY `price_updated` datetime NOT NULL;;" with params "[]"
execute "ALTER TABLE `eve_invtype` ALTER COLUMN `price_updated` DROP DEFAULT;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `eve_invtype` DROP COLUMN `price_updated` CASCADE;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "CREATE TABLE `eve_itemprice` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `price` numeric(30, 2) NOT NULL, `item_type_id` integer NOT NULL, `expires` datetime NOT NULL)" with params "[]"
execute "ALTER TABLE `eve_itemprice` ADD CONSTRAINT `item_type_id_refs_id_3a517e65` FOREIGN KEY (`item_type_id`) REFERENCES `eve_invtype` (`id`);" with params "[]"
execute "CREATE INDEX `eve_itemprice_1f12b5ff` ON `eve_itemprice` (`item_type_id`);" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "DESCRIBE `eve_item_price`" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "SET FOREIGN_KEY_CHECKS=0;" with params "[]"
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
Foreign key SQL: ALTER TABLE `eve_itemprice` ADD CONSTRAINT `item_id_refs_id_3a517e65` FOREIGN KEY (`item_id`) REFERENCES `eve_invtype` (`id`);
execute "
            SELECT kc.`constraint_name`, kc.`column_name`, kc.`table_name`,
                kc.`referenced_table_name`, kc.`referenced_column_name`
            FROM information_schema.key_column_usage AS kc
            WHERE
                kc.table_schema = %s
        " with params "['fwmazon']"
execute "
            SELECT c.constraint_name, c.table_name, c.constraint_type
            FROM information_schema.table_constraints AS c
            WHERE
                c.table_schema = %s
        " with params "['fwmazon']"
execute "ALTER TABLE `eve_itemprice` DROP FOREIGN KEY `item_type_id_refs_id_3a517e65`" with params "[]"
execute "DESCRIBE `eve_itemprice`" with params "[]"
execute "ALTER TABLE `eve_itemprice` CHANGE COLUMN `item_type_id` `item_id` int(11) NOT NULL   ;" with params "[]"
execute "ALTER TABLE `eve_itemprice` ADD CONSTRAINT `item_id_refs_id_3a517e65` FOREIGN KEY (`item_id`) REFERENCES `eve_invtype` (`id`);" with params "[]"
